{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Tech Stack Schema",
  "description": "Standardized schema for technology stack definitions",
  "type": "object",
  "required": ["id", "name", "description", "category", "technologies", "setup"],
  "properties": {
    "id": {
      "type": "integer",
      "description": "Unique identifier for the tech stack"
    },
    "name": {
      "type": "string",
      "description": "Human-readable name of the tech stack",
      "minLength": 1,
      "maxLength": 100
    },
    "description": {
      "type": "string",
      "description": "Technical description of the stack and its components",
      "minLength": 10,
      "maxLength": 500
    },
    "category": {
      "type": "string",
      "enum": ["Frontend", "Backend", "Full-Stack", "Mobile", "DevOps", "Data", "AI/ML"],
      "description": "Primary category of the tech stack"
    },
    "technologies": {
      "type": "object",
      "description": "Structured list of technologies with versions",
      "required": ["core"],
      "properties": {
        "core": {
          "type": "array",
          "description": "Core technologies of the stack",
          "items": {
            "type": "object",
            "required": ["name", "version"],
            "properties": {
              "name": {"type": "string"},
              "version": {"type": "string"},
              "category": {
                "type": "string",
                "enum": ["Language", "Framework", "Library", "Database", "Tool", "Service"]
              }
            }
          }
        },
        "build_tools": {
          "type": "array",
          "description": "Build and development tools",
          "items": {
            "type": "object",
            "required": ["name", "version"],
            "properties": {
              "name": {"type": "string"},
              "version": {"type": "string"}
            }
          }
        },
        "testing": {
          "type": "array",
          "description": "Testing frameworks and tools",
          "items": {
            "type": "object",
            "required": ["name", "version"],
            "properties": {
              "name": {"type": "string"},
              "version": {"type": "string"},
              "type": {
                "type": "string",
                "enum": ["Unit", "Integration", "E2E", "Performance"]
              }
            }
          }
        },
        "quality": {
          "type": "array",
          "description": "Code quality and linting tools",
          "items": {
            "type": "object",
            "required": ["name", "version"],
            "properties": {
              "name": {"type": "string"},
              "version": {"type": "string"}
            }
          }
        }
      }
    },
    "setup": {
      "type": "object",
      "description": "Installation and setup instructions",
      "required": ["prerequisites", "installation"],
      "properties": {
        "prerequisites": {
          "type": "array",
          "description": "System requirements and prerequisites",
          "items": {"type": "string"}
        },
        "installation": {
          "type": "array",
          "description": "Step-by-step installation commands",
          "items": {"type": "string"}
        },
        "configuration": {
          "type": "array",
          "description": "Configuration files to create",
          "items": {
            "type": "object",
            "required": ["filename", "content"],
            "properties": {
              "filename": {"type": "string"},
              "content": {"type": "string"},
              "description": {"type": "string"}
            }
          }
        }
      }
    },
    "use_cases": {
      "type": "array",
      "description": "Typical use cases for this stack",
      "items": {"type": "string"}
    },
    "tags": {
      "type": "array",
      "description": "Searchable tags for discovery",
      "items": {"type": "string"}
    },
    "documentation": {
      "type": "object",
      "description": "Links to documentation",
      "properties": {
        "official": {"type": "string", "format": "uri"},
        "github": {"type": "string", "format": "uri"},
        "npm": {"type": "string", "format": "uri"},
        "composer": {"type": "string", "format": "uri"}
      }
    },
    "contributor": {
      "type": "object",
      "description": "Information about the stack contributor",
      "required": ["name"],
      "properties": {
        "name": {"type": "string"},
        "email": {"type": "string", "format": "email"},
        "github": {"type": "string"}
      }
    },
    "metadata": {
      "type": "object",
      "description": "Additional metadata",
      "properties": {
        "rating": {
          "type": "number",
          "minimum": 0,
          "maximum": 5
        },
        "review_count": {"type": "integer"},
        "download_count": {"type": "integer"},
        "is_paid": {"type": "boolean"},
        "marketplace_price": {"type": "number"}
      }
    },
    "timestamps": {
      "type": "object",
      "description": "Creation and update timestamps",
      "required": ["created_at"],
      "properties": {
        "created_at": {"type": "string", "format": "date-time"},
        "updated_at": {"type": "string", "format": "date-time"}
      }
    }
  }
}
